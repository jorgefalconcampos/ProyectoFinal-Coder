<div class="row m-3">
  <div class="col-4 py-2">
    {{!-- <section>
      <h1>Crear producto</h1>
      <form
        id="submitForm" class="pt-2" enctype="application/x-www-form-urlencoded" >
        <div class="mb-3">
          <label for="name" class="form-label">Producto</label>
          <input type="text" class="form-control" id="name" name="name" required/>
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">Descripción</label>
          <textarea class="form-control" id="description" name="description" rows="2" required></textarea>
        </div>
        <div class="mb-3">
          <label for="price" class="form-label">Product Price</label>
          <input type="number" min="0" class="form-control" id="price" name="price" required/>
        </div>
        <button type="submit" class="btn btn-primary">Crear producto</button>
      </form>
    </section> --}}
  </div>
  <div class="col-9 py-2">
    <section>
      <h1>Mis productos</h1>
      {{#if success}}
      <div class="accordion" id="productsAccordion">
        {{#each products}}
          <div class="shadow accordion-item my-3">
            <h2 class="accordion-header" id="heading-{{this.code}}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{this.code}}" aria-expanded="true" aria-controls="collapse-{{this.code}}">
                <strong>{{this.title}}</strong>: ${{this.price}}
              </button>
            </h2>
            <div id="collapse-{{this.code}}" class="accordion-collapse collapse" aria-labelledby="heading-{{this.code}}" data-bs-parent="#productsAccordion">
              <div class="accordion-body">
                Código de producto: {{this.code}} <br />
                <hr />
                <a class="btn btn-primary" href="/api/products/{{this._id}}" role="button">Ver detalle</a>
                {{!-- <button type="button" class="btn btn-danger">Eliminar</button> --}}
              </div>
            </div>
          </div>
        {{/each}}
      </div>

      <nav aria-label="Paginación de productos">        
      <ul class="pagination">
        {{#if hasPrevPage}}
          <li class="page-item">
            <a class="page-link" href="/api/products/?page={{prevPage}}" aria-label="Anterior">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Anterior</span>
            </a>
          </li>
        {{/if}}
        {{#each totalPages}}
          <li class="page-item"><a class="page-link" href="/api/products/?page={{this}}">{{this}}</a></li>
        {{/each}}
        {{#if hasNextPage}}
          <li class="page-item">
            <a class="page-link" href="/api/products/?page={{nextPage}}" aria-label="Siguiente">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Siguiente</span>
            </a>
          </li>
        {{/if}}

      </ul>
      </nav>

      {{else}}
      <div class="alert alert-danger py-3 mt-5" role="alert">
        No  hay productos para mostrar
        </div>
      {{/if}}
    </section>
    
    
    

  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/index.js"></script>